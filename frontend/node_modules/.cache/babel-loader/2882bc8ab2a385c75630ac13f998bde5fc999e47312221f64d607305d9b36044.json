{"ast":null,"code":"import _regeneratorRuntime from\"/home/wassimzo/Bureau/WEB/ZeroToHero/TODO/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/wassimzo/Bureau/WEB/ZeroToHero/TODO/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/wassimzo/Bureau/WEB/ZeroToHero/TODO/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function CSRFToken(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),csrftoken=_useState2[0],setcsrftoken=_useState2[1];var getCookie=function getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==\"\"){console.dir(document.cookie);var cookies=document.cookie.split(\";\");for(var i=0;i<cookies.length;i++){var cookie=cookies[i].trim();if(cookie.substring(0,name.length+1)===name+\"=\"){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://127.0.0.1:8000/api/csrf\");case 3:console.log(document.cookie);_context.next=8;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);case 8:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();setcsrftoken(getCookie(\"csrftoken\"));},[]);return/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"csrfmiddlewaretoken\",value:csrftoken});}","map":{"version":3,"names":["axios","React","useState","useEffect","jsx","_jsx","CSRFToken","_useState","_useState2","_slicedToArray","csrftoken","setcsrftoken","getCookie","name","cookieValue","document","cookie","console","dir","cookies","split","i","length","trim","substring","decodeURIComponent","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","log","t0","stop","apply","arguments","type","value"],"sources":["/home/wassimzo/Bureau/WEB/ZeroToHero/TODO/frontend/src/Component/CSRFToken.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\n\nexport default function CSRFToken() {\n\tconst [csrftoken, setcsrftoken] = useState(\"\");\n\n\tconst getCookie = (name) => {\n\t\tlet cookieValue = null;\n\t\tif (document.cookie && document.cookie !== \"\") {\n\t\t\tconsole.dir(document.cookie);\n\t\t\tlet cookies = document.cookie.split(\";\");\n\t\t\tfor (let i = 0; i < cookies.length; i++) {\n\t\t\t\tlet cookie = cookies[i].trim();\n\t\t\t\tif (cookie.substring(0, name.length + 1) === name + \"=\") {\n\t\t\t\t\tcookieValue = decodeURIComponent(\n\t\t\t\t\t\tcookie.substring(name.length + 1)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cookieValue;\n\t};\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\ttry {\n\t\t\t\tawait axios.get(\"http://127.0.0.1:8000/api/csrf\");\n\t\t\t\tconsole.log(document.cookie);\n\t\t\t} catch (err) {}\n\t\t};\n\n\t\tfetchData();\n\t\tsetcsrftoken(getCookie(\"csrftoken\"));\n\t}, []);\n\n\treturn <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrftoken} />;\n}\n"],"mappings":"waAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CACnC,IAAAC,SAAA,CAAkCL,QAAQ,CAAC,EAAE,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9B,GAAM,CAAAI,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,IAAI,CAAK,CAC3B,GAAI,CAAAC,WAAW,CAAG,IAAI,CACtB,GAAIC,QAAQ,CAACC,MAAM,EAAID,QAAQ,CAACC,MAAM,GAAK,EAAE,CAAE,CAC9CC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACC,MAAM,CAAC,CAC5B,GAAI,CAAAG,OAAO,CAAGJ,QAAQ,CAACC,MAAM,CAACI,KAAK,CAAC,GAAG,CAAC,CACxC,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,OAAO,CAACG,MAAM,CAAED,CAAC,EAAE,CAAE,CACxC,GAAI,CAAAL,MAAM,CAAGG,OAAO,CAACE,CAAC,CAAC,CAACE,IAAI,CAAC,CAAC,CAC9B,GAAIP,MAAM,CAACQ,SAAS,CAAC,CAAC,CAAEX,IAAI,CAACS,MAAM,CAAG,CAAC,CAAC,GAAKT,IAAI,CAAG,GAAG,CAAE,CACxDC,WAAW,CAAGW,kBAAkB,CAC/BT,MAAM,CAACQ,SAAS,CAACX,IAAI,CAACS,MAAM,CAAG,CAAC,CACjC,CAAC,CACD,MACD,CACD,CACD,CACA,MAAO,CAAAR,WAAW,CACnB,CAAC,CAEDX,SAAS,CAAC,UAAM,CACf,GAAM,CAAAuB,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEV,CAAApC,KAAK,CAACqC,GAAG,CAAC,gCAAgC,CAAC,QACjDpB,OAAO,CAACqB,GAAG,CAACvB,QAAQ,CAACC,MAAM,CAAC,CAACkB,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAK,EAAA,CAAAL,QAAA,qCAAAA,QAAA,CAAAM,IAAA,MAAAT,OAAA,gBAE9B,kBALK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAc,KAAA,MAAAC,SAAA,OAKd,CAEDhB,SAAS,CAAC,CAAC,CACXf,YAAY,CAACC,SAAS,CAAC,WAAW,CAAC,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOP,IAAA,UAAOsC,IAAI,CAAC,QAAQ,CAAC9B,IAAI,CAAC,qBAAqB,CAAC+B,KAAK,CAAElC,SAAU,CAAE,CAAC,CAC5E"},"metadata":{},"sourceType":"module","externalDependencies":[]}